{"version":3,"file":"static/js/904.b7f74650.chunk.js","mappings":"4JAAO,MAiHMA,EAAmB,SAACC,GAA8B,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAnBC,EAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAC/C,MAAMG,EAAS,CAAC,EAEVC,GAA2B,QAAbX,EAAAD,EAASa,YAAI,IAAAZ,OAAA,EAAbA,EAAea,SAAU,GACxCF,EAEMA,EAAYH,OAAS,EAC9BE,EAAOE,KAAO,yMACLD,EAAYH,OAAS,MAC9BE,EAAOE,KAAO,oLAJdF,EAAOE,KAAO,wFAOhB,MAAME,GAA6B,QAAdb,EAAAF,EAASgB,aAAK,IAAAd,OAAA,EAAdA,EAAgBY,SAAU,GAC1CC,EAEMA,EAAaN,OAAS,EAC/BE,EAAOK,MAAQ,qNACND,EAAaN,OAAS,GAC/BE,EAAOK,MAAQ,8LACL,kBAAkBC,KAAKF,KACjCJ,EAAOK,MAAQ,yWANfL,EAAOK,MAAQ,8FASjB,MAAME,GAA6B,QAAdf,EAAAH,EAASmB,aAAK,IAAAhB,OAAA,EAAdA,EAAgBW,SAAU,GAC1CI,EAEO,6BAA6BD,KAAKC,GAEnCA,EAAaT,OAAS,MAC/BE,EAAOQ,MAAQ,uKAFfR,EAAOQ,MAAQ,+IAFfR,EAAOQ,MAAQ,qEAOZnB,EAASoB,OACZT,EAAOS,KAAO,+FAGhB,MAAMC,GAA6B,QAAdjB,EAAAJ,EAASsB,aAAK,IAAAlB,OAAA,EAAdA,EAAgBU,SAAU,GACzB,YAAlBd,EAASoB,OACNC,EAEO,mCAAoBJ,KAAKI,GAE1BA,EAAaZ,OAAS,KAC/BE,EAAOW,MAAQ,qMAFfX,EAAOW,MAAQ,wVAFfX,EAAOW,MAAQ,+KAQG,YAAlBtB,EAASoB,MAA4C,QAAtBf,EAACL,EAASuB,oBAAY,IAAAlB,GAArBA,EAAuBS,SACzDH,EAAOY,aAAe,uMAGnBhB,GAAWP,EAASwB,UAEbjB,GAAUP,EAASwB,WACzBxB,EAASwB,SAASf,OAAS,EAC7BE,EAAOa,SAAW,iOACTxB,EAASwB,SAASf,OAAS,IACpCE,EAAOa,SAAW,qMACR,cAAcP,KAAKjB,EAASwB,UAE5B,cAAcP,KAAKjB,EAASwB,UAE5B,WAAWP,KAAKjB,EAASwB,YACnCb,EAAOa,SAAW,kOAFlBb,EAAOa,SAAW,wRAFlBb,EAAOa,SAAW,mRAPpBb,EAAOa,SAAW,oGAepB,MAAMC,GAAuC,QAAnBnB,EAAAN,EAAS0B,kBAAU,IAAApB,OAAA,EAAnBA,EAAqBQ,SAAU,GAKzD,OAJIW,GAAqBA,EAAkBhB,OAAS,MAClDE,EAAOe,WAAa,4MAGf,CACLC,QAAwC,IAA/BC,OAAOC,KAAKlB,GAAQF,OAC7BE,SAEJ,C","sources":["utils/adminHelpers.js"],"sourcesContent":["export const formatDate = (dateString) => {\r\n  if (!dateString) return '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';\r\n  \r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞';\r\n    \r\n    return new Intl.DateTimeFormat('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric'\r\n    }).format(date);\r\n  } catch (error) {\r\n    return '–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞';\r\n  }\r\n};\r\n\r\nexport const formatDateTime = (dateString) => {\r\n  if (!dateString) return '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';\r\n  \r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞';\r\n    \r\n    return new Intl.DateTimeFormat('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  } catch (error) {\r\n    return '–ù–µ–≤–µ—Ä–Ω–∞—è –¥–∞—Ç–∞';\r\n  }\r\n};\r\n\r\nexport const getRoleInfo = (role) => {\r\n  const roleMap = {\r\n    'student': { label: '–°—Ç—É–¥–µ–Ω—Ç', variant: 'primary', icon: 'üë®‚Äçüéì' },\r\n    'teacher': { label: '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å', variant: 'success', icon: 'üë©‚Äçüè´' },\r\n    'admin': { label: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', variant: 'danger', icon: '‚öôÔ∏è' }\r\n  };\r\n  return roleMap[role] || roleMap.student;\r\n};\r\n\r\nexport const getStatusInfo = (status) => {\r\n  const statusMap = {\r\n    'active': { label: '–ê–∫—Ç–∏–≤–µ–Ω', variant: 'success', icon: 'üü¢' },\r\n    'inactive': { label: '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω', variant: 'danger', icon: 'üî¥' },\r\n    'blocked': { label: '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', variant: 'danger', icon: '‚õî' }\r\n  };\r\n  return statusMap[status] || statusMap.active;\r\n};\r\n\r\nexport const calculateSystemStats = (users = [], assignments = [], submissions = []) => {\r\n  const totalUsers = users.length;\r\n  const activeUsers = users.filter(user => user.isActive !== false).length;\r\n  const totalGroups = new Set(users.map(user => user.group).filter(Boolean)).size;\r\n  \r\n  const totalAssignments = assignments.length;\r\n  const totalSubmissions = submissions.length;\r\n  const pendingSubmissions = submissions.filter(sub => sub.status === 'submitted').length;\r\n  \r\n  const systemLoad = Math.min(100, Math.round((pendingSubmissions / Math.max(totalSubmissions, 1)) * 100));\r\n\r\n  return {\r\n    totalUsers,\r\n    activeUsers,\r\n    totalGroups,\r\n    totalAssignments,\r\n    totalSubmissions,\r\n    pendingSubmissions,\r\n    systemLoad\r\n  };\r\n};\r\n\r\nexport const formatTableDate = (dateString) => {\r\n  if (!dateString) return '-';\r\n  \r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '-';\r\n    \r\n    return new Intl.DateTimeFormat('ru-RU', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric'\r\n    }).format(date);\r\n  } catch (error) {\r\n    return '-';\r\n  }\r\n};\r\n\r\nexport const formatLogDateTime = (dateString) => {\r\n  if (!dateString) return '-';\r\n  \r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '-';\r\n    \r\n    return new Intl.DateTimeFormat('ru-RU', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    }).format(date);\r\n  } catch (error) {\r\n    return '-';\r\n  }\r\n};\r\n\r\nexport const validateUserData = (userData, isEdit = false) => {\r\n  const errors = {};\r\n\r\n  const trimmedName = userData.name?.trim() || '';\r\n  if (!trimmedName) {\r\n    errors.name = '–§–ò–û –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ';\r\n  } else if (trimmedName.length < 2) {\r\n    errors.name = '–§–ò–û –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞';\r\n  } else if (trimmedName.length > 100) {\r\n    errors.name = '–§–ò–û –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 100 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  }\r\n\r\n  const trimmedLogin = userData.login?.trim() || '';\r\n  if (!trimmedLogin) {\r\n    errors.login = '–õ–æ–≥–∏–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω';\r\n  } else if (trimmedLogin.length < 3) {\r\n    errors.login = '–õ–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞';\r\n  } else if (trimmedLogin.length > 30) {\r\n    errors.login = '–õ–æ–≥–∏–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 30 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  } else if (!/^[a-zA-Z0-9_]+$/.test(trimmedLogin)) {\r\n    errors.login = '–õ–æ–≥–∏–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ';\r\n  }\r\n\r\n  const trimmedEmail = userData.email?.trim() || '';\r\n  if (!trimmedEmail) {\r\n    errors.email = 'Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω';\r\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(trimmedEmail)) {\r\n    errors.email = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å';\r\n  } else if (trimmedEmail.length > 255) {\r\n    errors.email = 'Email –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 255 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  }\r\n\r\n  if (!userData.role) {\r\n    errors.role = '–†–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞';\r\n  }\r\n\r\n  const trimmedGroup = userData.group?.trim() || '';\r\n  if (userData.role === 'student') {\r\n    if (!trimmedGroup) {\r\n      errors.group = '–ì—Ä—É–ø–ø–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞';\r\n    } else if (!/^[–ê-–Ø–ÅA-Z\\-\\d]+$/i.test(trimmedGroup)) {\r\n      errors.group = '–ì—Ä—É–ø–ø–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –¥–µ—Ñ–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ò–°–ü-401)';\r\n    } else if (trimmedGroup.length > 20) {\r\n      errors.group = '–ì—Ä—É–ø–ø–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 20 —Å–∏–º–≤–æ–ª–æ–≤';\r\n    }\r\n  }\r\n\r\n  if (userData.role === 'student' && !userData.teacherLogin?.trim()) {\r\n    errors.teacherLogin = '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞';\r\n  }\r\n\r\n  if (!isEdit && !userData.password) {\r\n    errors.password = '–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω';\r\n  } else if (!isEdit && userData.password) {\r\n    if (userData.password.length < 8) {\r\n      errors.password = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤';\r\n    } else if (userData.password.length > 128) {\r\n      errors.password = '–ü–∞—Ä–æ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 128 —Å–∏–º–≤–æ–ª–æ–≤';\r\n    } else if (!/(?=.*[a-z])/.test(userData.password)) {\r\n      errors.password = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Å—Ç—Ä–æ—á–Ω—É—é –±—É–∫–≤—É';\r\n    } else if (!/(?=.*[A-Z])/.test(userData.password)) {\r\n      errors.password = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É';\r\n    } else if (!/(?=.*\\d)/.test(userData.password)) {\r\n      errors.password = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É';\r\n    }\r\n  }\r\n\r\n  const trimmedDepartment = userData.department?.trim() || '';\r\n  if (trimmedDepartment && trimmedDepartment.length > 100) {\r\n    errors.department = '–ö–∞—Ñ–µ–¥—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 100 —Å–∏–º–≤–æ–ª–æ–≤';\r\n  }\r\n\r\n  return {\r\n    isValid: Object.keys(errors).length === 0,\r\n    errors\r\n  };\r\n};\r\n\r\nexport const filterUsers = (users, filters) => {\r\n  return users.filter(user => {\r\n    if (filters.role && user.role !== filters.role) {\r\n      return false;\r\n    }\r\n    \r\n    if (filters.status && user.status !== filters.status) {\r\n      return false;\r\n    }\r\n    \r\n    if (filters.group && user.group !== filters.group) {\r\n      return false;\r\n    }\r\n    \r\n    if (filters.search) {\r\n      const searchTerm = filters.search.toLowerCase();\r\n      const searchFields = [user.name, user.login, user.email, user.group].filter(Boolean);\r\n      const matches = searchFields.some(field => \r\n        field.toLowerCase().includes(searchTerm)\r\n      );\r\n      if (!matches) return false;\r\n    }\r\n    \r\n    return true;\r\n  });\r\n};\r\n\r\nexport const sortUsers = (users, sortBy, sortDirection) => {\r\n  return [...users].sort((a, b) => {\r\n    let aValue = a[sortBy];\r\n    let bValue = b[sortBy];\r\n    \r\n    if (sortBy === 'registrationDate' || sortBy === 'lastLogin') {\r\n      aValue = new Date(aValue || 0);\r\n      bValue = new Date(bValue || 0);\r\n    }\r\n    \r\n    if (typeof aValue === 'string') {\r\n      aValue = aValue.toLowerCase();\r\n      bValue = bValue.toLowerCase();\r\n    }\r\n    \r\n    if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\r\n    if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\r\n    return 0;\r\n  });\r\n};"],"names":["validateUserData","userData","_userData$name","_userData$login","_userData$email","_userData$group","_userData$teacherLogi","_userData$department","isEdit","arguments","length","undefined","errors","trimmedName","name","trim","trimmedLogin","login","test","trimmedEmail","email","role","trimmedGroup","group","teacherLogin","password","trimmedDepartment","department","isValid","Object","keys"],"sourceRoot":""}